# This file was automatically generated by Ansible (nut role) and is maintained in source control. Please do not edit it manually.

{# Use scanned UPSes if available, otherwise fall back to manually defined ones #}
{% set ups_list = (nut_scanned_ups | default([])) if (nut_scanned_ups | default([]) | length > 0) else nut_ups %}

# Perform a lookup and return the value for the key inventory_hostname (bn-upsm-01, 02, etc). All other variables are still set dynamically based on values returned by nut_scanner.

{% set ups_name = nut_custom_ups_names.get(inventory_hostname, inventory_hostname) %}

{% for ups in ups_list %}
[{{ ups_name }}]
    driver = {{ ups.driver }}
    port = {{ ups.port }}
{% if ups.vendorid is defined and ups.vendorid %}
    vendorid = {{ ups.vendorid }}
{% endif %}
{% if ups.productid is defined and ups.productid %}
    productid = {{ ups.productid }}
{% endif %}
{% if ups.desc is defined %}
    desc = "{{ ups.desc }}"
{% endif %}
{% if ups.extra is defined %}
{% for line in ups.extra %}
    {{ line }}
{% endfor %}
{% endif %}

{% endfor %}